KindEditor.plugin("template",function(a){var b=this,c="template",e=b.lang(c+"."),d=b.pluginsPath+c+"/html/";function f(g){return d+g+"?ver="+encodeURIComponent(a.DEBUG?a.TIME:a.VERSION)}b.clickToolbar(c,function(){var l=b.lang(c+"."),g=['<div style="padding:10px 20px;">','<div class="ke-header">','<div class="ke-left">',l.selectTemplate+" <select>"];a.each(l.fileList,function(m,n){g.push('<option value="'+m+'">'+n+"</option>")});html=[g.join(""),"</select></div>",'<div class="ke-right">','<input type="checkbox" id="keReplaceFlag" name="replaceFlag" value="1" /> <label for="keReplaceFlag">'+l.replaceContent+"</label>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<iframe class="ke-textarea" frameborder="0" style="width:458px;height:260px;background-color:#FFF;"></iframe>',"</div>"].join("");var h=b.createDialog({name:c,width:500,title:b.lang(c),body:html,yesBtn:{name:b.lang("yes"),click:function(n){var m=a.iframeDoc(i);b[j[0].checked?"html":"insertHtml"](m.body.innerHTML).hideDialog().focus()}}});var k=a("select",h.div),j=a('[name="replaceFlag"]',h.div),i=a("iframe",h.div);j[0].checked=true;i.attr("src",f(k.val()));k.change(function(){i.attr("src",f(this.value))})})});