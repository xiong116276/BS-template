KindEditor.plugin("link",function(a){var b=this,c="link";b.plugin.link={edit:function(){var i=b.lang(c+"."),f='<div style="padding:20px;"><div class="ke-dialog-row"><label for="keUrl" style="width:60px;">'+i.url+'</label><input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:260px;" /></div><div class="ke-dialog-row""><label for="keType" style="width:60px;">'+i.linkType+'</label><select id="keType" name="type"></select></div></div>',e=b.createDialog({name:c,width:450,title:b.lang(c),body:f,yesBtn:{name:b.lang("yes"),click:function(l){var k=a.trim(g.val());if(k=="http://"||a.invalidUrl(k)){alert(b.lang("invalidUrl"));g[0].focus();return}b.exec("createlink",k,h.val()).hideDialog().focus()}}}),j=e.div,g=a('input[name="url"]',j),h=a('select[name="type"]',j);g.val("http://");h[0].options[0]=new Option(i.newWindow,"_blank");h[0].options[1]=new Option(i.selfWindow,"");b.cmd.selection();var d=b.plugin.getSelectedLink();if(d){b.cmd.range.selectNode(d[0]);b.cmd.select();g.val(d.attr("data-ke-src"));h.val(d.attr("target"))}g[0].focus();g[0].select()},"delete":function(){b.exec("unlink",null)}};b.clickToolbar(c,b.plugin.link.edit)});