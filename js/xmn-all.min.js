!(function(b){var a=function(c){this.version=c};a.prototype.element=function(d,e,g){var f=document.createElement(d);if(typeof(e)==="string"){g=e;e=null}if(e!==undefined){for(var c in e){f.setAttribute(c,e[c])}}if(g!==undefined){f.innerHTML=g}return f};a.prototype.svg=function(d,f){var g="http://www.w3.org/2000/svg";var e=document.createElementNS(g,"svg");if(typeof(d)==="string"){f=d;d=null}if(d!==undefined){for(var c in d){e.setAttribute(c,d[c])}}if(f!==undefined){e.innerHTML=f}return e};a.prototype.btnDropMenu=function(){$(".btn-drop").on("click",function(){$(this).find(".btn-menus").toggle()})};a.prototype.drag=function(c){$(c).on("mouseenter",function(){$(this).css("cursor","move")});$(c).on("mousedown",function(g){g=g||window.event;var d=$(g.currentTarget).parents(".modal-container")[0];var j=g.clientX-d.offsetLeft;var h=g.clientY-d.offsetTop;var i=parseFloat(getComputedStyle(d).width);var e=parseFloat(getComputedStyle(d).height);var k=parseFloat(getComputedStyle($(".modal-page")[0]).width);var f=parseFloat(getComputedStyle($(".modal-page")[0]).height);document.onmousemove=function(m){m=m||window.event;var l=m.clientX-j;var n=m.clientY-h;if(l<=i/2){l=i/2}else{if(l>=(k-i/2)){l=k-i/2}}if(n<=0){n=0}else{if(n>=f-e){n=f-e}}d.style.left=l+"px";d.style.top=n+"px"}});$(c).on("mouseup",function(){document.onmousemove=null})};a.prototype.layout=function(){$(".menu-list .menu-item").on("click",function(d){var d=d.currentTarget;$(d).toggleClass("active").siblings().removeClass("active");var c=$(d).attr("data-target");var f=$(d).find(".text").text();if($(d).find(".menu-list-2 .item").length>0){$($(d).find(".menu-list-2 .item")[0]).addClass("active").siblings().removeClass("active");$(".menu-list .menu-list-2 .item").on("click",function(g){g.stopPropagation();c=$(this).attr("data-target");f=$(this).parent().siblings().find(".text").text()+'<i class="icon iconfont icon-youjiantou2"></i>'+$(this).text().split("·")[1];$(this).addClass("active").siblings().removeClass("active");$(".content-page iframe").attr("src",c);$(".bread-nav .nav-item").html(xmn.element("a",f))})}$(".content-page iframe").attr("src",c);$(".bread-nav .nav-item").html(xmn.element("a",f))})};a.prototype.tips=function(e,d,f){if(typeof(d)!=="string"){f=d;d=null}f=f?f:500;var g=xmn.element("div",{"class":"modal-page"});var c="";switch(d){case"success":c='<i class="icon iconfont icon-success color-8"></i> ';break;case"error":c='<i class="icon iconfont icon-error color-10"></i> ';break;case"warning":c='<i class="icon iconfont icon-warning color-6"></i> ';break;case"loading":c='<i class="icon iconfont icon-loading"></i> ';break}var h=c+e;$(xmn.element("div",{"class":"tips"},h)).appendTo($(g));$(g).appendTo($(document.body));$(".modal-page").show().find(".tips").animate({top:"100px"},f,"linear",function(){var i=setTimeout(function(){var j=getComputedStyle($(".modal-page .tips")[0]).height;$(".modal-page .tips").animate({top:"-"+j},f,"linear",function(){$(".modal-page .tips").parents(".modal-page").remove()})},1000)});if(arguments.length===0){return{error:function(i,j){xmn.tips(i,"error",j)},success:function(i,j){xmn.tips(i,"success",j)},warning:function(i,j){xmn.tips(i,"warning",j)},loading:function(i,j){xmn.tips(i,"loading",j)}}}};a.prototype.modal=function(n,e){var o=n.title,j=n.url,c=n.content,d=n.width,v=n.height,t=n.type,k=n.btns,f=n.speed?n.speed:500;var h="";if(j){d=n.width?n.width:"1200px";v=n.height?n.height:"500px";h='<i class="icon iconfont icon-zuidahua fr"></i>';c='<iframe src="'+j+'" width="100%" height="100%" frameborder="0"></iframe>'}if(t){var u="";switch(t){case"success":u='<i class="icon iconfont icon-success color-8"></i> ';break;case"error":u='<i class="icon iconfont icon-error color-10"></i> ';break;case"warning":u='<i class="icon iconfont icon-warning color-6"></i> ';break;case"information":u='<i class="icon iconfont icon-information color-2"></i> ';break;default:u=""}c=u+c}var l=xmn.element("div",{"class":"modal-page"});$(xmn.element("div",{"class":"modal-mask"})).appendTo($(l));var p=xmn.element("div",{"class":"modal-container",style:"width:"+d+";height:"+v});if(o){$(xmn.element("div",{"class":"title color-bg-1"},o+'<i class="icon iconfont icon-guanbi fr btn-close"></i> '+h)).appendTo($(p))}var q=xmn.element("div",{"class":"content"},c);$(q).appendTo($(p));$(p).appendTo($(l));$(l).appendTo($(document.body));if(k){var m=xmn.element("div",{"class":"fr btns"});for(var r=0,s=k.length;r<s;r++){var g=xmn.element("button",{},k[r].value);$(g).appendTo($(m))}$(m).appendTo($(p));$(q).css({bottom:"65px","padding-bottom":0});$(p).css("padding-bottom","65px")}$(".modal-page").show().find(".modal-container").animate({top:"100px"},f,"linear",function(){if(typeof(e)==="function"){e()}});xmn.drag(".modal-page .title");$(document.body).off("click").on("click",function(i){var i=i.target;if($(i).hasClass("btn-close")){v=v?v:getComputedStyle($(i).parents(".modal-container")[0]).height;$(i).parents(".modal-container").animate({top:"-"+v},f,"linear",function(){$(".modal-page").remove()})}else{if($(i).hasClass("icon-zuidahua")){$(i).parents(".modal-container").css({width:"100%",height:"100%",top:0,left:"50%",right:0});$(i).removeClass("icon-zuidahua").addClass("icon-narrow")}else{if($(i).hasClass("icon-narrow")){$(i).parents(".modal-container").css({width:d?d:"auto",height:v?v:"auto",bottom:"auto",top:"100px"});$(i).removeClass("icon-narrow").addClass("icon-zuidahua")}}}})};a.prototype.dialog={alert:function(d,c,f){var e={content:d,type:c};e.width=e.width?e.width:"400px";e.height=e.height?e.height:"160px";e.btns=e.btns?e.btns:[{"class":"btn btn-color-0",value:"确定"}];xmn.modal(e)},confirm:function(c){c.width=c.width?c.width:"600px";c.height=c.height?c.height:"260px";c.btns=c.btns?c.btns:[{"class":"btn btn-color-0",value:"确定"},{"class":"btn btn-default btn-close",value:"取消"}];xmn.modal(c)},prompt:function(c){c.title=c.title?c.title:"询问提示";c.height=c.height?c.height:"200px";c.content=c.content+"<input class='prompt-input'/>";c.btns=c.btns?c.btns:[{"class":"btn btn-color-0",value:"确定"},{"class":"btn btn-default btn-close",value:"取消"}];xmn.modal(c)}};a.prototype.tabs=function(){$(".tabs li").on("click",function(c){var c=c.currentTarget;$(c).addClass("active").siblings().removeClass("active");var d=$(c).find("a").attr("href");$(d).show().siblings().hide()});$("a").click(function(c){c.preventDefault()})};a.prototype.progress=function(){$("xmn-progress").each(function(){var d=$(this);var h=d.attr("x-type");var o=d.attr("x-value");var i=d.attr("x-color");var c=parseFloat(d.attr("x-radius"));var e=c*2,g=e;if(o>=100){o=100}if(h=="svg"){var l=xmn.svg({width:e,height:g},'<circle cx="'+c+'" cy="'+c+'" r="'+((e-10)/2)+'" stroke-width="10"></circle><circle class="circle-bar" cx="'+c+'" cy="'+c+'" r="'+((e-10)/2)+'" stroke-width="10" transform="matrix(0,-1,1,0,0,'+e+')" stroke-dasharray="0 1069"></circle> <text x="'+((e-30)/2)+'" y="'+(c+5)+'">'+o+"%</text>");d.append($(l));var j=o/100,m=Math.PI*2*(e-10)/2;$(l).find("text").css("stroke",i);$(l).find("circle").eq(1).attr("stroke-dasharray",m*j+" "+m*(1-j)).css("stroke",i)}else{if(h=="canvas"){var k=xmn.element("canvas",{width:e,height:g},"你的浏览器不支持canvas!");o=o-25;var n=k.getContext("2d");var f=k.width;n.clearRect(0,0,k.width,k.height);n.lineWidth=10;n.beginPath();n.strokeStyle="#f5f5f5";n.arc(f/2,f/2,(f-n.lineWidth)/2,0,2*Math.PI);n.stroke();n.closePath();n.beginPath();n.strokeStyle=i;var j=o/100,m=Math.PI*2;n.arc(f/2,f/2,(f-n.lineWidth)/2,-(0.25*m),m*j);n.stroke();n.closePath();n.beginPath();n.font="16px Arial";n.textAlign="center";n.textBaseline="middle";n.fillStyle=i;n.fillText((o+25)+"%",f/2,f/2);n.closePath();d.append(k)}}})};if($.validator!=null){a.prototype.validate=function(c,d){(function(e){if(typeof define==="function"&&define.amd){define(["jquery","jquery.validate"],e)}else{e(jQuery)}}(function(e){e.extend(e.validator.messages,{required:"这是必填字段",remote:"请修正此字段",email:"请输入有效的电子邮件地址",url:"请输入有效的网址",date:"请输入有效的日期",dateISO:"请输入有效的日期 (YYYY-MM-DD)",number:"请输入有效的数字",digits:"只能输入数字",creditcard:"请输入有效的信用卡号码",equalTo:"你的输入不相同",extension:"请输入有效的后缀",maxlength:e.validator.format("最多可以输入 {0} 个字符"),minlength:e.validator.format("最少要输入 {0} 个字符"),rangelength:e.validator.format("请输入长度在 {0} 到 {1} 之间的字符串"),range:e.validator.format("请输入范围在 {0} 到 {1} 之间的数值"),max:e.validator.format("请输入不大于 {0} 的数值"),min:e.validator.format("请输入不小于 {0} 的数值")})}));$().ready(function(){$(c).validate(d)})};a.prototype.validator=jQuery.validator}a.prototype.init=function(){xmn.layout();xmn.btnDropMenu()};b.xmn=new a();xmn.init()})(window);