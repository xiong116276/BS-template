KindEditor.plugin("quickformat",function(a){var b=this,d="quickformat",e=a.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");function c(g){var f=g.first();while(f&&f.first()){f=f.first()}return f}b.clickToolbar(d,function(){b.focus();var l=b.edit.doc,g=b.cmd.range,m=a(l.body).first(),j,h=[],f=[],i=g.createBookmark(true);while(m){j=m.next();var k=c(m);if(!k||k.name!="img"){if(e[m.name]){m.html(m.html().replace(/^(\s|&nbsp;|ã€€)+/ig,""));m.css("text-indent","2em")}else{f.push(m)}if(!j||(e[j.name]||e[m.name]&&!e[j.name])){if(f.length>0){h.push(f)}f=[]}}m=j}a.each(h,function(o,n){var p=a('<p style="text-indent:2em;"></p>',l);n[0].before(p);a.each(n,function(q,r){p.append(r)})});g.moveToBookmark(i);b.addBookmark()})});